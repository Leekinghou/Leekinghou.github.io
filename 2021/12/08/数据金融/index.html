<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>金融风控-贷款违约预测 | lijinhao's blog</title><meta name="keywords" content="Python,DL框架,机器学习"><meta name="author" content="lijinhao"><meta name="copyright" content="lijinhao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="赛题以预测用户贷款是否违约为任务，数据集报名后可见并可下载，该数据来自某信贷平台的贷款记录，总数据量超过120w，包含47列变量信息，其中15列为匿名变量。"><meta property="og:type" content="article"><meta property="og:title" content="金融风控-贷款违约预测"><meta property="og:url" content="https://lijinhao.site/2021/12/08/%E6%95%B0%E6%8D%AE%E9%87%91%E8%9E%8D/index.html"><meta property="og:site_name" content="lijinhao&#39;s blog"><meta property="og:description" content="赛题以预测用户贷款是否违约为任务，数据集报名后可见并可下载，该数据来自某信贷平台的贷款记录，总数据量超过120w，包含47列变量信息，其中15列为匿名变量。"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://gitee.com/leekinghou/image/raw/master/img/20211210104425.png"><meta property="article:published_time" content="2021-12-07T16:30:12.000Z"><meta property="article:modified_time" content="2021-12-10T02:44:38.864Z"><meta property="article:author" content="lijinhao"><meta property="article:tag" content="Machine Learning"><meta property="article:tag" content="数据分析"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://gitee.com/leekinghou/image/raw/master/img/20211210104425.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://lijinhao.site/2021/12/08/%E6%95%B0%E6%8D%AE%E9%87%91%E8%9E%8D/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"Copy successfully",error:"Copy error",noSupport:"The browser does not support"},relativeDate:{homepage:!1,post:!1},runtime:"days",date_suffix:{just:"Just",min:"minutes ago",hour:"hours ago",day:"days ago",month:"months ago"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js",css:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isanchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"金融风控-贷款违约预测",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2021-12-10 10:44:38"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside")),GLOBAL_CONFIG_SITE.isHome&&/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/custom@1.0.0.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/portrait.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">65</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">39</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">22</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i> <span>清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i> <span>音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i> <span>照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">lijinhao's blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i> <span>清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i> <span>音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i> <span>照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">金融风控-贷款违约预测</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-12-07T16:30:12.000Z" title="Created 2021-12-08 00:30:12">2021-12-08</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2021-12-10T02:44:38.864Z" title="Updated 2021-12-10 10:44:38">2021-12-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Machine-Learning/">Machine Learning</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="金融风控-贷款违约预测"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div><article class="post-content" id="article-container"><h1 id="金融风控-贷款违约预测"><a href="#金融风控-贷款违约预测" class="headerlink" title="金融风控-贷款违约预测"></a>金融风控-贷款违约预测</h1><p>来源：<a target="_blank" rel="noopener" href="https://tianchi.aliyun.com/competition/entrance/531830/introduction">金融风控-贷款违约预测</a></p><p>赛题以预测用户贷款是否违约为任务，数据集报名后可见并可下载，该数据来自某信贷平台的贷款记录，总数据量超过120w，包含47列变量信息，其中15列为匿名变量。为了保证比赛的公平性，将会从中抽取80万条作为训练集，20万条作为测试集A，20万条作为测试集B，同时会对employmentTitle、purpose、postCode和title等信息进行脱敏。</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns <span class="comment"># 作图</span></span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line">warnings.filterwarnings(<span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line"></span><br><span class="line">data_tr = pd.read_csv(<span class="string">&#x27;data/金融贷款数据/train.csv&#x27;</span>)</span><br><span class="line">data_tt = pd.read_csv(<span class="string">&#x27;data/金融贷款数据/testA.csv&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="查看数据规模"><a href="#查看数据规模" class="headerlink" title="查看数据规模"></a>查看数据规模</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Train data shape:&#x27;</span>,data_tr.shape)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;TestA data shape:&#x27;</span>,data_tt.shape)</span><br></pre></td></tr></table></figure><pre><code>Train data shape: (800000, 47)
TestA data shape: (200000, 46)
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(data_tr.columns)</span><br></pre></td></tr></table></figure><pre><code>Index([&#39;id&#39;, &#39;loanAmnt&#39;, &#39;term&#39;, &#39;interestRate&#39;, &#39;installment&#39;, &#39;grade&#39;,
       &#39;subGrade&#39;, &#39;employmentTitle&#39;, &#39;employmentLength&#39;, &#39;homeOwnership&#39;,
       &#39;annualIncome&#39;, &#39;verificationStatus&#39;, &#39;issueDate&#39;, &#39;isDefault&#39;,
       &#39;purpose&#39;, &#39;postCode&#39;, &#39;regionCode&#39;, &#39;dti&#39;, &#39;delinquency_2years&#39;,
       &#39;ficoRangeLow&#39;, &#39;ficoRangeHigh&#39;, &#39;openAcc&#39;, &#39;pubRec&#39;,
       &#39;pubRecBankruptcies&#39;, &#39;revolBal&#39;, &#39;revolUtil&#39;, &#39;totalAcc&#39;,
       &#39;initialListStatus&#39;, &#39;applicationType&#39;, &#39;earliesCreditLine&#39;, &#39;title&#39;,
       &#39;policyCode&#39;, &#39;n0&#39;, &#39;n1&#39;, &#39;n2&#39;, &#39;n3&#39;, &#39;n4&#39;, &#39;n5&#39;, &#39;n6&#39;, &#39;n7&#39;, &#39;n8&#39;,
       &#39;n9&#39;, &#39;n10&#39;, &#39;n11&#39;, &#39;n12&#39;, &#39;n13&#39;, &#39;n14&#39;],
      dtype=&#39;object&#39;)
</code></pre><h2 id="查看数据前10行"><a href="#查看数据前10行" class="headerlink" title="查看数据前10行"></a>查看数据前10行</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr.head(<span class="number">10</span>)</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><p></p><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>id</th><th>loanAmnt</th><th>term</th><th>interestRate</th><th>installment</th><th>grade</th><th>subGrade</th><th>employmentTitle</th><th>employmentLength</th><th>homeOwnership</th><th>...</th><th>n5</th><th>n6</th><th>n7</th><th>n8</th><th>n9</th><th>n10</th><th>n11</th><th>n12</th><th>n13</th><th>n14</th></tr></thead><tbody><tr><th>0</th><td>0</td><td>35000.0</td><td>5</td><td>19.52</td><td>917.97</td><td>E</td><td>E2</td><td>320.0</td><td>2 years</td><td>2</td><td>...</td><td>9.0</td><td>8.0</td><td>4.0</td><td>12.0</td><td>2.0</td><td>7.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td>2.0</td></tr><tr><th>1</th><td>1</td><td>18000.0</td><td>5</td><td>18.49</td><td>461.90</td><td>D</td><td>D2</td><td>219843.0</td><td>5 years</td><td>0</td><td>...</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>13.0</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td></tr><tr><th>2</th><td>2</td><td>12000.0</td><td>5</td><td>16.99</td><td>298.17</td><td>D</td><td>D3</td><td>31698.0</td><td>8 years</td><td>0</td><td>...</td><td>0.0</td><td>21.0</td><td>4.0</td><td>5.0</td><td>3.0</td><td>11.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td>4.0</td></tr><tr><th>3</th><td>3</td><td>11000.0</td><td>3</td><td>7.26</td><td>340.96</td><td>A</td><td>A4</td><td>46854.0</td><td>10+ years</td><td>1</td><td>...</td><td>16.0</td><td>4.0</td><td>7.0</td><td>21.0</td><td>6.0</td><td>9.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td>1.0</td></tr><tr><th>4</th><td>4</td><td>3000.0</td><td>3</td><td>12.99</td><td>101.07</td><td>C</td><td>C2</td><td>54.0</td><td>NaN</td><td>1</td><td>...</td><td>4.0</td><td>9.0</td><td>10.0</td><td>15.0</td><td>7.0</td><td>12.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td>4.0</td></tr><tr><th>5</th><td>5</td><td>11000.0</td><td>3</td><td>7.99</td><td>344.65</td><td>A</td><td>A5</td><td>51727.0</td><td>7 years</td><td>0</td><td>...</td><td>1.0</td><td>48.0</td><td>2.0</td><td>3.0</td><td>2.0</td><td>19.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td>0.0</td></tr><tr><th>6</th><td>6</td><td>2050.0</td><td>3</td><td>7.69</td><td>63.95</td><td>A</td><td>A4</td><td>180083.0</td><td>9 years</td><td>0</td><td>...</td><td>11.0</td><td>3.0</td><td>10.0</td><td>18.0</td><td>3.0</td><td>12.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td>3.0</td></tr><tr><th>7</th><td>7</td><td>11500.0</td><td>3</td><td>14.98</td><td>398.54</td><td>C</td><td>C3</td><td>214017.0</td><td>1 year</td><td>1</td><td>...</td><td>16.0</td><td>10.0</td><td>5.0</td><td>21.0</td><td>4.0</td><td>8.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td>2.0</td></tr><tr><th>8</th><td>8</td><td>12000.0</td><td>3</td><td>12.99</td><td>404.27</td><td>C</td><td>C2</td><td>188.0</td><td>5 years</td><td>2</td><td>...</td><td>7.0</td><td>2.0</td><td>13.0</td><td>17.0</td><td>11.0</td><td>15.0</td><td>NaN</td><td>0.0</td><td>0.0</td><td>6.0</td></tr><tr><th>9</th><td>9</td><td>6500.0</td><td>3</td><td>10.99</td><td>212.78</td><td>B</td><td>B4</td><td>54.0</td><td>NaN</td><td>1</td><td>...</td><td>21.0</td><td>24.0</td><td>6.0</td><td>39.0</td><td>5.0</td><td>7.0</td><td>0.0</td><td>0.0</td><td>0.0</td><td>8.0</td></tr></tbody></table><p>10 rows × 47 columns</p></div><h2 id="🌟-查看数据类型"><a href="#🌟-查看数据类型" class="headerlink" title="🌟 查看数据类型"></a>🌟 <strong>查看数据类型</strong></h2><p>挺重要的，要将object类型的数据转换成float</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr.info()</span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 800000 entries, 0 to 799999
Data columns (total 47 columns):
 #   Column              Non-Null Count   Dtype  
---  ------              --------------   -----  
 0   id                  800000 non-null  int64  
 1   loanAmnt            800000 non-null  float64
 2   term                800000 non-null  int64  
 3   interestRate        800000 non-null  float64
 4   installment         800000 non-null  float64
 5   grade               800000 non-null  object 
 6   subGrade            800000 non-null  object 
 7   employmentTitle     799999 non-null  float64
 8   employmentLength    753201 non-null  object 
 9   homeOwnership       800000 non-null  int64  
 10  annualIncome        800000 non-null  float64
 11  verificationStatus  800000 non-null  int64  
 12  issueDate           800000 non-null  object 
 13  isDefault           800000 non-null  int64  
 14  purpose             800000 non-null  int64  
 15  postCode            799999 non-null  float64
 16  regionCode          800000 non-null  int64  
 17  dti                 799761 non-null  float64
 18  delinquency_2years  800000 non-null  float64
 19  ficoRangeLow        800000 non-null  float64
 20  ficoRangeHigh       800000 non-null  float64
 21  openAcc             800000 non-null  float64
 22  pubRec              800000 non-null  float64
 23  pubRecBankruptcies  799595 non-null  float64
 24  revolBal            800000 non-null  float64
 25  revolUtil           799469 non-null  float64
 26  totalAcc            800000 non-null  float64
 27  initialListStatus   800000 non-null  int64  
 28  applicationType     800000 non-null  int64  
 29  earliesCreditLine   800000 non-null  object 
 30  title               799999 non-null  float64
 31  policyCode          800000 non-null  float64
 32  n0                  759730 non-null  float64
 33  n1                  759730 non-null  float64
 34  n2                  759730 non-null  float64
 35  n3                  759730 non-null  float64
 36  n4                  766761 non-null  float64
 37  n5                  759730 non-null  float64
 38  n6                  759730 non-null  float64
 39  n7                  759730 non-null  float64
 40  n8                  759729 non-null  float64
 41  n9                  759730 non-null  float64
 42  n10                 766761 non-null  float64
 43  n11                 730248 non-null  float64
 44  n12                 759730 non-null  float64
 45  n13                 759730 non-null  float64
 46  n14                 759730 non-null  float64
dtypes: float64(33), int64(9), object(5)
memory usage: 286.9+ MB
</code></pre><h2 id="查看数据分布"><a href="#查看数据分布" class="headerlink" title="查看数据分布"></a>查看数据分布</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr.describe()</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><p></p><table border="1" class="dataframe"><thead><tr style="text-align:right"><th></th><th>id</th><th>loanAmnt</th><th>term</th><th>interestRate</th><th>installment</th><th>employmentTitle</th><th>homeOwnership</th><th>annualIncome</th><th>verificationStatus</th><th>isDefault</th><th>...</th><th>n5</th><th>n6</th><th>n7</th><th>n8</th><th>n9</th><th>n10</th><th>n11</th><th>n12</th><th>n13</th><th>n14</th></tr></thead><tbody><tr><th>count</th><td>800000.000000</td><td>800000.000000</td><td>800000.000000</td><td>800000.000000</td><td>800000.000000</td><td>799999.000000</td><td>800000.000000</td><td>8.000000e+05</td><td>800000.000000</td><td>800000.000000</td><td>...</td><td>759730.000000</td><td>759730.000000</td><td>759730.000000</td><td>759729.000000</td><td>759730.000000</td><td>766761.000000</td><td>730248.000000</td><td>759730.000000</td><td>759730.000000</td><td>759730.000000</td></tr><tr><th>mean</th><td>399999.500000</td><td>14416.818875</td><td>3.482745</td><td>13.238391</td><td>437.947723</td><td>72005.351714</td><td>0.614213</td><td>7.613391e+04</td><td>1.009683</td><td>0.199513</td><td>...</td><td>8.107937</td><td>8.575994</td><td>8.282953</td><td>14.622488</td><td>5.592345</td><td>11.643896</td><td>0.000815</td><td>0.003384</td><td>0.089366</td><td>2.178606</td></tr><tr><th>std</th><td>230940.252013</td><td>8716.086178</td><td>0.855832</td><td>4.765757</td><td>261.460393</td><td>106585.640204</td><td>0.675749</td><td>6.894751e+04</td><td>0.782716</td><td>0.399634</td><td>...</td><td>4.799210</td><td>7.400536</td><td>4.561689</td><td>8.124610</td><td>3.216184</td><td>5.484104</td><td>0.030075</td><td>0.062041</td><td>0.509069</td><td>1.844377</td></tr><tr><th>min</th><td>0.000000</td><td>500.000000</td><td>3.000000</td><td>5.310000</td><td>15.690000</td><td>0.000000</td><td>0.000000</td><td>0.000000e+00</td><td>0.000000</td><td>0.000000</td><td>...</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>1.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td></tr><tr><th>25%</th><td>199999.750000</td><td>8000.000000</td><td>3.000000</td><td>9.750000</td><td>248.450000</td><td>427.000000</td><td>0.000000</td><td>4.560000e+04</td><td>0.000000</td><td>0.000000</td><td>...</td><td>5.000000</td><td>4.000000</td><td>5.000000</td><td>9.000000</td><td>3.000000</td><td>8.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>1.000000</td></tr><tr><th>50%</th><td>399999.500000</td><td>12000.000000</td><td>3.000000</td><td>12.740000</td><td>375.135000</td><td>7755.000000</td><td>1.000000</td><td>6.500000e+04</td><td>1.000000</td><td>0.000000</td><td>...</td><td>7.000000</td><td>7.000000</td><td>7.000000</td><td>13.000000</td><td>5.000000</td><td>11.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>2.000000</td></tr><tr><th>75%</th><td>599999.250000</td><td>20000.000000</td><td>3.000000</td><td>15.990000</td><td>580.710000</td><td>117663.500000</td><td>1.000000</td><td>9.000000e+04</td><td>2.000000</td><td>0.000000</td><td>...</td><td>11.000000</td><td>11.000000</td><td>10.000000</td><td>19.000000</td><td>7.000000</td><td>14.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>3.000000</td></tr><tr><th>max</th><td>799999.000000</td><td>40000.000000</td><td>5.000000</td><td>30.990000</td><td>1715.420000</td><td>378351.000000</td><td>5.000000</td><td>1.099920e+07</td><td>2.000000</td><td>1.000000</td><td>...</td><td>70.000000</td><td>132.000000</td><td>79.000000</td><td>128.000000</td><td>45.000000</td><td>82.000000</td><td>4.000000</td><td>4.000000</td><td>39.000000</td><td>30.000000</td></tr></tbody></table><p>8 rows × 42 columns</p></div><h2 id="查看数据集中的特征缺失值，唯一值等"><a href="#查看数据集中的特征缺失值，唯一值等" class="headerlink" title="查看数据集中的特征缺失值，唯一值等"></a>查看数据集中的特征缺失值，唯一值等</h2><h3 id="缺失值"><a href="#缺失值" class="headerlink" title="缺失值"></a>缺失值</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;There are <span class="subst">&#123;data_tr.isnull().<span class="built_in">any</span>().<span class="built_in">sum</span>()&#125;</span> columns in train dataset with missing values.&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>There are 22 columns in train dataset with missing values.
</code></pre><p>查看缺失率大于50%的特征</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">have_null_fea_dict = (data_tr.isnull().<span class="built_in">sum</span>()/ <span class="built_in">len</span>(data_tr)).to_dict()</span><br><span class="line">fea_null_moreThanHalf = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> have_null_fea_dict.items():</span><br><span class="line">    <span class="keyword">if</span> value &gt; <span class="number">0.5</span>:</span><br><span class="line">        fea_null_moreThanHalf[key] = value</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fea_null_moreThanHalf</span><br></pre></td></tr></table></figure><pre><code>&#123;&#125;
</code></pre><p>具体的查看缺失特征及缺失率</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># nan可视化</span></span><br><span class="line">missing = data_tr.isnull().<span class="built_in">sum</span>() / <span class="built_in">len</span>(data_tr)</span><br><span class="line">missing = missing[missing &gt; <span class="number">0</span>]</span><br></pre></td></tr></table></figure><pre><code>employmentTitle       0.000001
employmentLength      0.058499
postCode              0.000001
dti                   0.000299
pubRecBankruptcies    0.000506
revolUtil             0.000664
title                 0.000001
n0                    0.050338
n1                    0.050338
n2                    0.050338
n3                    0.050338
n4                    0.041549
n5                    0.050338
n6                    0.050338
n7                    0.050338
n8                    0.050339
n9                    0.050338
n10                   0.041549
n11                   0.087190
n12                   0.050338
n13                   0.050338
n14                   0.050338
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">missing.sort_values(inplace=<span class="literal">True</span>)</span><br><span class="line">missing.plot.bar()</span><br></pre></td></tr></table></figure><pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x15c297ee0&gt;
</code></pre><p>​<br><img src="output_19_1.png" alt="png"><br>​</p><p>纵向了解哪些列存在 “nan”, 并可以把nan的个数打印，主要的目的在于查看某一列nan存在的个数是否真的很大，如果nan存在的过多，说明这一列对label的影响几乎不起作用了，可以考虑删掉。如果缺失值很小一般可以选择填充。<br>另外可以横向比较，如果在数据集中，某些样本数据的大部分列都是缺失的且样本足够的情况下可以考虑删除。</p><ul><li>Tips: 比赛大杀器lgb模型可以自动处理缺失值，Task4模型会具体学习模型了解模型哦！</li></ul><h2 id="查看数据值全是1的特征字段"><a href="#查看数据值全是1的特征字段" class="headerlink" title="查看数据值全是1的特征字段"></a>查看数据值全是1的特征字段</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">one_value_fea = [col <span class="keyword">for</span> col <span class="keyword">in</span> data_tr.columns <span class="keyword">if</span> data_tr[col].nunique() &lt;= <span class="number">1</span>]</span><br><span class="line">one_value_fea_test = [col <span class="keyword">for</span> col <span class="keyword">in</span> data_tt.columns <span class="keyword">if</span> data_tt[col].nunique() &lt;= <span class="number">1</span>]</span><br><span class="line">one_value_fea</span><br></pre></td></tr></table></figure><pre><code>[&#39;policyCode&#39;]
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr.get(<span class="string">&#x27;policyCode&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>0         1.0
1         1.0
2         1.0
3         1.0
4         1.0
         ... 
799995    1.0
799996    1.0
799997    1.0
799998    1.0
799999    1.0
Name: policyCode, Length: 800000, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">one_value_fea_test</span><br></pre></td></tr></table></figure><pre><code>[&#39;policyCode&#39;]
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;There are <span class="subst">&#123;<span class="built_in">len</span>(one_value_fea)&#125;</span> columns in train dataset with one unique value.&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;There are <span class="subst">&#123;<span class="built_in">len</span>(one_value_fea_test)&#125;</span> columns in test dataset with one unique value.&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>There are 1 columns in train dataset with one unique value.
There are 1 columns in test dataset with one unique value.
</code></pre><h2 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h2><p>47列数据中有22列都缺少数据，这在现实世界中很正常。‘policyCode’具有一个唯一值（或全部缺失）。有很多连续变量和一些分类变量。</p><h1 id="处理数据类型、对象类型"><a href="#处理数据类型、对象类型" class="headerlink" title="处理数据类型、对象类型"></a>处理数据类型、对象类型</h1><p>filter(function, iterable)<br>filter函数用于过滤序列，过滤掉不符合条件的元素，返回一个迭代器对象，如果要转换为列表，可以使用 list() 来转换。</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr.info()</span><br></pre></td></tr></table></figure><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 800000 entries, 0 to 799999
Data columns (total 47 columns):
 #   Column              Non-Null Count   Dtype  
---  ------              --------------   -----  
 0   id                  800000 non-null  int64  
 1   loanAmnt            800000 non-null  float64
 2   term                800000 non-null  int64  
 3   interestRate        800000 non-null  float64
 4   installment         800000 non-null  float64
 5   grade               800000 non-null  object 
 6   subGrade            800000 non-null  object 
 7   employmentTitle     799999 non-null  float64
 8   employmentLength    753201 non-null  object 
 9   homeOwnership       800000 non-null  int64  
 10  annualIncome        800000 non-null  float64
 11  verificationStatus  800000 non-null  int64  
 12  issueDate           800000 non-null  object 
 13  isDefault           800000 non-null  int64  
 14  purpose             800000 non-null  int64  
 15  postCode            799999 non-null  float64
 16  regionCode          800000 non-null  int64  
 17  dti                 799761 non-null  float64
 18  delinquency_2years  800000 non-null  float64
 19  ficoRangeLow        800000 non-null  float64
 20  ficoRangeHigh       800000 non-null  float64
 21  openAcc             800000 non-null  float64
 22  pubRec              800000 non-null  float64
 23  pubRecBankruptcies  799595 non-null  float64
 24  revolBal            800000 non-null  float64
 25  revolUtil           799469 non-null  float64
 26  totalAcc            800000 non-null  float64
 27  initialListStatus   800000 non-null  int64  
 28  applicationType     800000 non-null  int64  
 29  earliesCreditLine   800000 non-null  object 
 30  title               799999 non-null  float64
 31  policyCode          800000 non-null  float64
 32  n0                  759730 non-null  float64
 33  n1                  759730 non-null  float64
 34  n2                  759730 non-null  float64
 35  n3                  759730 non-null  float64
 36  n4                  766761 non-null  float64
 37  n5                  759730 non-null  float64
 38  n6                  759730 non-null  float64
 39  n7                  759730 non-null  float64
 40  n8                  759729 non-null  float64
 41  n9                  759730 non-null  float64
 42  n10                 766761 non-null  float64
 43  n11                 730248 non-null  float64
 44  n12                 759730 non-null  float64
 45  n13                 759730 non-null  float64
 46  n14                 759730 non-null  float64
dtypes: float64(33), int64(9), object(5)
memory usage: 286.9+ MB
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numerical_fea = <span class="built_in">list</span>(data_tr.select_dtypes(exclude=[<span class="string">&#x27;object&#x27;</span>]).columns)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">category_fea = <span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x <span class="keyword">not</span> <span class="keyword">in</span> numerical_fea, <span class="built_in">list</span>(data_tr.columns)))</span><br><span class="line">category_fea</span><br></pre></td></tr></table></figure><pre><code>[&#39;grade&#39;, &#39;subGrade&#39;, &#39;employmentLength&#39;, &#39;issueDate&#39;, &#39;earliesCreditLine&#39;]
</code></pre><h2 id="查看字段值"><a href="#查看字段值" class="headerlink" title="查看字段值"></a>查看字段值</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr.grade</span><br></pre></td></tr></table></figure><pre><code>0         E
1         D
2         D
3         A
4         C
         ..
799995    C
799996    A
799997    C
799998    A
799999    B
Name: grade, Length: 800000, dtype: object
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr.get(<span class="string">&#x27;earliesCreditLine&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>0         Aug-2001
1         May-2002
2         May-2006
3         May-1999
4         Aug-1977
            ...   
799995    Aug-2011
799996    May-1989
799997    Jul-2002
799998    Jan-1994
799999    Feb-2002
Name: earliesCreditLine, Length: 800000, dtype: object
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr[<span class="string">&#x27;issueDate&#x27;</span>]</span><br></pre></td></tr></table></figure><pre><code>0         2014-07-01
1         2012-08-01
2         2015-10-01
3         2015-08-01
4         2016-03-01
             ...    
799995    2016-07-01
799996    2013-04-01
799997    2015-10-01
799998    2015-02-01
799999    2018-08-01
Name: issueDate, Length: 800000, dtype: object
</code></pre><h2 id="数值型变量分析"><a href="#数值型变量分析" class="headerlink" title="数值型变量分析"></a>数值型变量分析</h2><p>数值型变量分析，数值型肯定是包括连续型变量和离散型变量的，找出来然后<br>划分数值型变量中的连续变量和离散型变量</p><p>Pandas nunique() 用于获取唯一值的统计次数。</p><p>‘’’<br>例子：<br>// 统计“Team”列中不同值的个数，不包括null值<br>unique_value = data[“Team”].nunique()<br>‘’’</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 过滤数值型类别特征</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_numerical_serial_fea</span>(<span class="params">data, feas</span>):</span></span><br><span class="line">    numerical_serial_fea = []  <span class="comment"># 连续型</span></span><br><span class="line">    numerical_noserial_fea = []  <span class="comment"># 离散型</span></span><br><span class="line">    <span class="keyword">for</span> fea <span class="keyword">in</span> feas:</span><br><span class="line">        temp = data.get(fea).nunique()</span><br><span class="line">        <span class="keyword">if</span> temp &lt;= <span class="number">10</span>:</span><br><span class="line">            numerical_noserial_fea.append(fea)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        numerical_serial_fea.append(fea)</span><br><span class="line">    <span class="keyword">return</span> numerical_serial_fea, numerical_noserial_fea</span><br><span class="line"></span><br><span class="line">numerical_fea = <span class="built_in">list</span>(data_tr.select_dtypes(exclude=[<span class="string">&#x27;object&#x27;</span>]).columns)</span><br><span class="line">numerical_serial_fea, numerical_noserial_fea = get_numerical_serial_fea(data_tr, numerical_fea)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numerical_noserial_fea</span><br></pre></td></tr></table></figure><pre><code>[&#39;term&#39;,
 &#39;homeOwnership&#39;,
 &#39;verificationStatus&#39;,
 &#39;isDefault&#39;,
 &#39;initialListStatus&#39;,
 &#39;applicationType&#39;,
 &#39;policyCode&#39;,
 &#39;n11&#39;,
 &#39;n12&#39;]
</code></pre><ul><li>数值类别型变量分析</li></ul><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr.get(<span class="string">&#x27;term&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>0         5
1         5
2         5
3         3
4         3
         ..
799995    3
799996    3
799997    3
799998    3
799999    3
Name: term, Length: 800000, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr[<span class="string">&#x27;term&#x27;</span>].value_counts()  <span class="comment"># 离散型变量</span></span><br></pre></td></tr></table></figure><pre><code>3    606902
5    193098
Name: term, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr[<span class="string">&#x27;homeOwnership&#x27;</span>].value_counts()  <span class="comment"># 离散型变量</span></span><br></pre></td></tr></table></figure><pre><code>0    395732
1    317660
2     86309
3       185
5        81
4        33
Name: homeOwnership, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr[<span class="string">&#x27;policyCode&#x27;</span>].value_counts()  <span class="comment"># 离散型变量，无用，全部一个值</span></span><br></pre></td></tr></table></figure><pre><code>1.0    800000
Name: policyCode, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr[<span class="string">&#x27;n11&#x27;</span>].value_counts()  <span class="comment"># 离散型变量，相差悬殊，要不要用再分析</span></span><br></pre></td></tr></table></figure><pre><code>0.0    729682
1.0       540
2.0        24
4.0         1
3.0         1
Name: n11, dtype: int64
</code></pre><ul><li>数值连续型变量分析</li></ul><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numerical_serial_fea</span><br></pre></td></tr></table></figure><pre><code>[&#39;id&#39;,
 &#39;loanAmnt&#39;,
 &#39;interestRate&#39;,
 &#39;installment&#39;,
 &#39;employmentTitle&#39;,
 &#39;annualIncome&#39;,
 &#39;purpose&#39;,
 &#39;postCode&#39;,
 &#39;regionCode&#39;,
 &#39;dti&#39;,
 &#39;delinquency_2years&#39;,
 &#39;ficoRangeLow&#39;,
 &#39;ficoRangeHigh&#39;,
 &#39;openAcc&#39;,
 &#39;pubRec&#39;,
 &#39;pubRecBankruptcies&#39;,
 &#39;revolBal&#39;,
 &#39;revolUtil&#39;,
 &#39;totalAcc&#39;,
 &#39;title&#39;,
 &#39;n0&#39;,
 &#39;n1&#39;,
 &#39;n2&#39;,
 &#39;n3&#39;,
 &#39;n4&#39;,
 &#39;n5&#39;,
 &#39;n6&#39;,
 &#39;n7&#39;,
 &#39;n8&#39;,
 &#39;n9&#39;,
 &#39;n10&#39;,
 &#39;n13&#39;,
 &#39;n14&#39;]
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 每个数字特征分布 可视化</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    pandas.melt(frame, id_vars=None, value_vars=None, var_name=None, value_name=&#x27;value&#x27;, col_level=None)</span></span><br><span class="line"><span class="string">    参数解释：</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    frame: 要处理的数据集。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    id_vars: 不需要被转换的列名。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    value_vars: 需要转换的列名，如果剩下的列全部都要转换，就不用写了。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    var_name和value_name是自定义设置对应的列名。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    col_level: 如果列是MultiIndex，则使用此级别。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    class seaborn.FacetGrid(data, row=None, col=None, hue=None, col_wrap=None, sharex=True, sharey=True, height=3, aspect=1, palette=None, row_order=None, col_order=None, hue_order=None, hue_kws=None, dropna=True, legend_out=True, despine=True, margin_titles=False, xlim=None, ylim=None, subplot_kws=None, gridspec_kws=None, size=None)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Parameters</span></span><br><span class="line"><span class="string">    data：DataFrame数据。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    row, col, hue：字符串。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        定义数据子集的变量，这些变量将在网格的不同方面绘制。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    col_wrap：整形数值，可选参数。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        以此参数值来限制网格的列维度，以便列面跨越多行。与row面不兼容。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    share&#123;x,y&#125;：布尔值，&#x27;col&#x27; 或 &#x27;row&#x27;可选</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        如果为true，则跨列共享y轴或者跨行共享x轴。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    height：标量，可选参数。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    aspect：标量，可选参数。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        每个图片的纵横比，因此aspect * height给出每个图片的宽度，单位为英寸。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    palette：调色板名称，列表或字典，可选参数。</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">f = pd.melt(data_tr, value_vars=numerical_serial_fea)</span><br><span class="line">g = sns.FacetGrid(f, col=<span class="string">&quot;variable&quot;</span>,  col_wrap=<span class="number">2</span>, sharex=<span class="literal">False</span>, sharey=<span class="literal">False</span>)</span><br><span class="line">g = g.<span class="built_in">map</span>(sns.distplot, <span class="string">&quot;value&quot;</span>)</span><br></pre></td></tr></table></figure><p>​<br><img src="output_47_0.png" alt="png"><br>​</p><ul><li>查看某一个数值型变量的分布，查看变量是否符合正态分布，如果不符合正太分布的变量可以log化后再观察下是否符合正态分布。</li><li>如果想统一处理一批数据变标准化 必须把这些之前已经正态化的数据提出</li><li>正态化的原因：一些情况下正态非正态可以让模型更快的收敛，一些模型要求数据正态（eg. GMM、KNN）,保证数据不要过偏态即可，过于偏态可能会影响模型预测结果。</li></ul><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Ploting Transaction Amount Values Distribution</span></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>,<span class="number">12</span>))</span><br><span class="line">plt.suptitle(<span class="string">&#x27;Transaction Values Distribution&#x27;</span>, fontsize=<span class="number">22</span>)</span><br><span class="line">plt.subplot(<span class="number">221</span>)</span><br><span class="line">sub_plot_1 = sns.distplot(data_tr[<span class="string">&#x27;loanAmnt&#x27;</span>])</span><br><span class="line">sub_plot_1.set_title(<span class="string">&quot;loanAmnt Distribuition&quot;</span>, fontsize=<span class="number">18</span>)</span><br><span class="line">sub_plot_1.set_xlabel(<span class="string">&quot;&quot;</span>)</span><br><span class="line">sub_plot_1.set_ylabel(<span class="string">&quot;Probability&quot;</span>, fontsize=<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line">plt.subplot(<span class="number">222</span>)</span><br><span class="line">sub_plot_2 = sns.distplot(np.log(data_tr[<span class="string">&#x27;loanAmnt&#x27;</span>]))</span><br><span class="line">sub_plot_2.set_title(<span class="string">&quot;loanAmnt (Log) Distribuition&quot;</span>, fontsize=<span class="number">18</span>)</span><br><span class="line">sub_plot_2.set_xlabel(<span class="string">&quot;&quot;</span>)</span><br><span class="line">sub_plot_2.set_ylabel(<span class="string">&quot;Probability&quot;</span>, fontsize=<span class="number">15</span>)</span><br></pre></td></tr></table></figure><pre><code>Text(0,0.5,&#39;Probability&#39;)
</code></pre><p>​<br><img src="output_49_1.png" alt="png"><br>​</p><h2 id="非数值类别型变量分析"><a href="#非数值类别型变量分析" class="headerlink" title="非数值类别型变量分析"></a>非数值类别型变量分析</h2><p>要映射为数值，不然没办法拉长为一个向量</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">category_fea</span><br></pre></td></tr></table></figure><pre><code>[&#39;grade&#39;, &#39;subGrade&#39;, &#39;employmentLength&#39;, &#39;issueDate&#39;, &#39;earliesCreditLine&#39;]
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr[<span class="string">&#x27;grade&#x27;</span>].value_counts()</span><br></pre></td></tr></table></figure><pre><code>B    233690
C    227118
A    139661
D    119453
E     55661
F     19053
G      5364
Name: grade, dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr[<span class="string">&#x27;subGrade&#x27;</span>].value_counts()</span><br></pre></td></tr></table></figure><pre><code>C1    50763
B4    49516
B5    48965
B3    48600
C2    47068
C3    44751
C4    44272
B2    44227
B1    42382
C5    40264
A5    38045
A4    30928
D1    30538
D2    26528
A1    25909
D3    23410
A3    22655
A2    22124
D4    21139
D5    17838
E1    14064
E2    12746
E3    10925
E4     9273
E5     8653
F1     5925
F2     4340
F3     3577
F4     2859
F5     2352
G1     1759
G2     1231
G3      978
G4      751
G5      645
Name: subGrade, dtype: int64
</code></pre><ul><li>isDefault是标签值</li></ul><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data_tr[<span class="string">&#x27;isDefault&#x27;</span>].value_counts()</span><br></pre></td></tr></table></figure><pre><code>0    640390
1    159610
Name: isDefault, dtype: int64
</code></pre><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul><li>上面我们用value_counts()等函数看了特征属性的分布，但是图表是概括原始信息最便捷的方式。</li><li>数无形时少直觉。</li><li>同一份数据集，在不同的尺度刻画上显示出来的图形反映的规律是不一样的。python将数据转化成图表，但结论是否正确需要由你保证。</li></ul><h1 id="变量分布可视化"><a href="#变量分布可视化" class="headerlink" title="变量分布可视化"></a>变量分布可视化</h1><h2 id="单一变量分布可视化"><a href="#单一变量分布可视化" class="headerlink" title="单一变量分布可视化"></a>单一变量分布可视化</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">8</span>, <span class="number">8</span>))</span><br><span class="line"><span class="comment"># sns.barplot(X, Y)</span></span><br><span class="line">sns.barplot(data_tr[<span class="string">&quot;employmentLength&quot;</span>].value_counts(dropna=<span class="literal">False</span>)[:<span class="number">20</span>],</span><br><span class="line">            data_tr[<span class="string">&quot;employmentLength&quot;</span>].value_counts(dropna=<span class="literal">False</span>).keys()[:<span class="number">20</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>​<br><img src="output_59_0.png" alt="png"><br>​</p><h2 id="根据y值不同可视化x某个特征的分布"><a href="#根据y值不同可视化x某个特征的分布" class="headerlink" title="根据y值不同可视化x某个特征的分布"></a>根据y值不同可视化x某个特征的分布</h2><p>首先查看类别型变量在不同y值上的分布</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_loan_fr = data_tr.loc[data_tr[<span class="string">&#x27;isDefault&#x27;</span>] == <span class="number">1</span>]</span><br><span class="line">train_loan_nofr = data_tr.loc[data_tr[<span class="string">&#x27;isDefault&#x27;</span>] == <span class="number">0</span>]</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(<span class="number">2</span>, <span class="number">2</span>, figsize=(<span class="number">15</span>, <span class="number">8</span>))</span><br><span class="line">train_loan_fr.groupby(<span class="string">&#x27;grade&#x27;</span>)[<span class="string">&#x27;grade&#x27;</span>].count().plot(kind=<span class="string">&#x27;barh&#x27;</span>, ax=ax1, title=<span class="string">&#x27;Count of grade fraud&#x27;</span>)</span><br><span class="line">train_loan_nofr.groupby(<span class="string">&#x27;grade&#x27;</span>)[<span class="string">&#x27;grade&#x27;</span>].count().plot(kind=<span class="string">&#x27;barh&#x27;</span>, ax=ax2, title=<span class="string">&#x27;Count of grade non-fraud&#x27;</span>)</span><br><span class="line">train_loan_fr.groupby(<span class="string">&#x27;employmentLength&#x27;</span>)[<span class="string">&#x27;employmentLength&#x27;</span>].count().plot(kind=<span class="string">&#x27;barh&#x27;</span>, ax=ax3, title=<span class="string">&#x27;Count of employmentLength fraud&#x27;</span>)</span><br><span class="line">train_loan_nofr.groupby(<span class="string">&#x27;employmentLength&#x27;</span>)[<span class="string">&#x27;employmentLength&#x27;</span>].count().plot(kind=<span class="string">&#x27;barh&#x27;</span>, ax=ax4, title=<span class="string">&#x27;Count of employmentLength non-fraud&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>​<br><img src="output_62_0.png" alt="png"><br>​</p><p>其次查看连续型变量在不同y值上的分布</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig, ((ax1, ax2)) = plt.subplots(<span class="number">1</span>, <span class="number">2</span>, figsize=(<span class="number">15</span>, <span class="number">6</span>))</span><br><span class="line">data_tr.loc[data_tr[<span class="string">&#x27;isDefault&#x27;</span>] == <span class="number">1</span>] \</span><br><span class="line">    [<span class="string">&#x27;loanAmnt&#x27;</span>].apply(np.log) \</span><br><span class="line">    .plot(kind=<span class="string">&#x27;hist&#x27;</span>,</span><br><span class="line">          bins=<span class="number">100</span>,</span><br><span class="line">          title=<span class="string">&#x27;Log Loan Amt - Fraud&#x27;</span>,</span><br><span class="line">          color=<span class="string">&#x27;r&#x27;</span>,</span><br><span class="line">          xlim=(-<span class="number">3</span>, <span class="number">10</span>),</span><br><span class="line">         ax= ax1)</span><br><span class="line">data_tr.loc[data_tr[<span class="string">&#x27;isDefault&#x27;</span>] == <span class="number">0</span>] \</span><br><span class="line">    [<span class="string">&#x27;loanAmnt&#x27;</span>].apply(np.log) \</span><br><span class="line">    .plot(kind=<span class="string">&#x27;hist&#x27;</span>,</span><br><span class="line">          bins=<span class="number">100</span>,</span><br><span class="line">          title=<span class="string">&#x27;Log Loan Amt - Not Fraud&#x27;</span>,</span><br><span class="line">          color=<span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">          xlim=(-<span class="number">3</span>, <span class="number">10</span>),</span><br><span class="line">         ax=ax2)</span><br></pre></td></tr></table></figure><pre><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x15ccbd430&gt;
</code></pre><p>​<br><img src="output_64_1.png" alt="png"><br>​</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">total = <span class="built_in">len</span>(data_tr)</span><br><span class="line">total_amt = data_tr.groupby([<span class="string">&#x27;isDefault&#x27;</span>])[<span class="string">&#x27;loanAmnt&#x27;</span>].<span class="built_in">sum</span>().<span class="built_in">sum</span>()</span><br><span class="line">plt.figure(figsize=(<span class="number">12</span>,<span class="number">5</span>))</span><br><span class="line">plt.subplot(<span class="number">121</span>)<span class="comment">##1代表行，2代表列，所以一共有2个图，1代表此时绘制第一个图。</span></span><br><span class="line">plot_tr = sns.countplot(x=<span class="string">&#x27;isDefault&#x27;</span>,data=data_tr)<span class="comment">#data_tr‘isDefault’这个特征每种类别的数量**</span></span><br><span class="line">plot_tr.set_title(<span class="string">&quot;Fraud Loan Distribution \n 0: good user | 1: bad user&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plot_tr.set_xlabel(<span class="string">&quot;Is fraud by count&quot;</span>, fontsize=<span class="number">16</span>)</span><br><span class="line">plot_tr.set_ylabel(<span class="string">&#x27;Count&#x27;</span>, fontsize=<span class="number">16</span>)</span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> plot_tr.patches:</span><br><span class="line">    height = p.get_height()</span><br><span class="line">    plot_tr.text(p.get_x()+p.get_width()/<span class="number">2.</span>,</span><br><span class="line">            height + <span class="number">3</span>,</span><br><span class="line">            <span class="string">&#x27;&#123;:1.2f&#125;%&#x27;</span>.<span class="built_in">format</span>(height/total*<span class="number">100</span>),</span><br><span class="line">            ha=<span class="string">&quot;center&quot;</span>, fontsize=<span class="number">15</span>) </span><br><span class="line">    </span><br><span class="line">percent_amt = (data_tr.groupby([<span class="string">&#x27;isDefault&#x27;</span>])[<span class="string">&#x27;loanAmnt&#x27;</span>].<span class="built_in">sum</span>())</span><br><span class="line">percent_amt = percent_amt.reset_index()</span><br><span class="line">plt.subplot(<span class="number">122</span>)</span><br><span class="line">plot_tr_2 = sns.barplot(x=<span class="string">&#x27;isDefault&#x27;</span>, y=<span class="string">&#x27;loanAmnt&#x27;</span>,  dodge=<span class="literal">True</span>, data=percent_amt)</span><br><span class="line">plot_tr_2.set_title(<span class="string">&quot;Total Amount in loanAmnt  \n 0: good user | 1: bad user&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plot_tr_2.set_xlabel(<span class="string">&quot;Is fraud by percent&quot;</span>, fontsize=<span class="number">16</span>)</span><br><span class="line">plot_tr_2.set_ylabel(<span class="string">&#x27;Total Loan Amount Scalar&#x27;</span>, fontsize=<span class="number">16</span>)</span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> plot_tr_2.patches:</span><br><span class="line">    height = p.get_height()</span><br><span class="line">    plot_tr_2.text(p.get_x()+p.get_width()/<span class="number">2.</span>,</span><br><span class="line">            height + <span class="number">3</span>,</span><br><span class="line">            <span class="string">&#x27;&#123;:1.2f&#125;%&#x27;</span>.<span class="built_in">format</span>(height/total_amt * <span class="number">100</span>),</span><br><span class="line">            ha=<span class="string">&quot;center&quot;</span>, fontsize=<span class="number">15</span>)   </span><br></pre></td></tr></table></figure><p>​<br><img src="output_65_0.png" alt="png"><br>​</p><h2 id="时间格式数据处理及查看"><a href="#时间格式数据处理及查看" class="headerlink" title="时间格式数据处理及查看"></a>时间格式数据处理及查看</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 转化成时间格式  issueDateDT特征表示数据日期离数据集中日期最早的日期（2007-06-01）的天数</span></span><br><span class="line">data_tr[<span class="string">&#x27;issueDate&#x27;</span>] = pd.to_datetime(data_tr[<span class="string">&#x27;issueDate&#x27;</span>],<span class="built_in">format</span>=<span class="string">&#x27;%Y-%m-%d&#x27;</span>)</span><br><span class="line">startdate = datetime.datetime.strptime(<span class="string">&#x27;2007-06-01&#x27;</span>, <span class="string">&#x27;%Y-%m-%d&#x27;</span>)</span><br><span class="line">data_tr[<span class="string">&#x27;issueDateDT&#x27;</span>] = data_tr[<span class="string">&#x27;issueDate&#x27;</span>].apply(<span class="keyword">lambda</span> x: x-startdate).dt.days</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 转化成时间格式</span></span><br><span class="line">data_tt[<span class="string">&#x27;issueDate&#x27;</span>] = pd.to_datetime(data_tr[<span class="string">&#x27;issueDate&#x27;</span>],<span class="built_in">format</span>=<span class="string">&#x27;%Y-%m-%d&#x27;</span>)</span><br><span class="line">startdate = datetime.datetime.strptime(<span class="string">&#x27;2007-06-01&#x27;</span>, <span class="string">&#x27;%Y-%m-%d&#x27;</span>)</span><br><span class="line">data_tt[<span class="string">&#x27;issueDateDT&#x27;</span>] = data_tt[<span class="string">&#x27;issueDate&#x27;</span>].apply(<span class="keyword">lambda</span> x: x-startdate).dt.days</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.hist(data_tr[<span class="string">&#x27;issueDateDT&#x27;</span>], label=<span class="string">&#x27;train&#x27;</span>);</span><br><span class="line">plt.hist(data_tt[<span class="string">&#x27;issueDateDT&#x27;</span>], label=<span class="string">&#x27;test&#x27;</span>);</span><br><span class="line">plt.legend();</span><br><span class="line">plt.title(<span class="string">&#x27;Distribution of issueDateDT dates&#x27;</span>);</span><br><span class="line"><span class="comment"># train 和 test issueDateDT 日期有重叠 所以使用基于时间的分割进行验证是不明智的</span></span><br></pre></td></tr></table></figure><p>​<br><img src="output_69_0.png" alt="png"><br>​</p><p>掌握透视图可以让我们更好的了解数据</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#透视图 索引可以有多个，“columns（列）”是可选的，聚合函数aggfunc最后是被应用到了变量“values”中你所列举的项目上。</span></span><br><span class="line">pivot = pd.pivot_table(data_tr, index=[<span class="string">&#x27;grade&#x27;</span>], columns=[<span class="string">&#x27;issueDateDT&#x27;</span>], values=[<span class="string">&#x27;loanAmnt&#x27;</span>], aggfunc=np.<span class="built_in">sum</span>)</span><br><span class="line">pivot</span><br></pre></td></tr></table></figure><div><style scoped>.dataframe tbody tr th:only-of-type{vertical-align:middle}</style><p></p><table border="1" class="dataframe"><thead><tr><th></th><th colspan="21" halign="left">loanAmnt</th></tr><tr><th>issueDateDT</th><th>0</th><th>30</th><th>61</th><th>92</th><th>122</th><th>153</th><th>183</th><th>214</th><th>245</th><th>274</th><th>...</th><th>3926</th><th>3957</th><th>3987</th><th>4018</th><th>4048</th><th>4079</th><th>4110</th><th>4140</th><th>4171</th><th>4201</th></tr><tr><th>grade</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><th>A</th><td>NaN</td><td>53650.0</td><td>42000.0</td><td>19500.0</td><td>34425.0</td><td>63950.0</td><td>43500.0</td><td>168825.0</td><td>85600.0</td><td>101825.0</td><td>...</td><td>13093850.0</td><td>11757325.0</td><td>11945975.0</td><td>9144000.0</td><td>7977650.0</td><td>6888900.0</td><td>5109800.0</td><td>3919275.0</td><td>2694025.0</td><td>2245625.0</td></tr><tr><th>B</th><td>NaN</td><td>13000.0</td><td>24000.0</td><td>32125.0</td><td>7025.0</td><td>95750.0</td><td>164300.0</td><td>303175.0</td><td>434425.0</td><td>538450.0</td><td>...</td><td>16863100.0</td><td>17275175.0</td><td>16217500.0</td><td>11431350.0</td><td>8967750.0</td><td>7572725.0</td><td>4884600.0</td><td>4329400.0</td><td>3922575.0</td><td>3257100.0</td></tr><tr><th>C</th><td>NaN</td><td>68750.0</td><td>8175.0</td><td>10000.0</td><td>61800.0</td><td>52550.0</td><td>175375.0</td><td>151100.0</td><td>243725.0</td><td>393150.0</td><td>...</td><td>17502375.0</td><td>17471500.0</td><td>16111225.0</td><td>11973675.0</td><td>10184450.0</td><td>7765000.0</td><td>5354450.0</td><td>4552600.0</td><td>2870050.0</td><td>2246250.0</td></tr><tr><th>D</th><td>NaN</td><td>NaN</td><td>5500.0</td><td>2850.0</td><td>28625.0</td><td>NaN</td><td>167975.0</td><td>171325.0</td><td>192900.0</td><td>269325.0</td><td>...</td><td>11403075.0</td><td>10964150.0</td><td>10747675.0</td><td>7082050.0</td><td>7189625.0</td><td>5195700.0</td><td>3455175.0</td><td>3038500.0</td><td>2452375.0</td><td>1771750.0</td></tr><tr><th>E</th><td>7500.0</td><td>NaN</td><td>10000.0</td><td>NaN</td><td>17975.0</td><td>1500.0</td><td>94375.0</td><td>116450.0</td><td>42000.0</td><td>139775.0</td><td>...</td><td>3983050.0</td><td>3410125.0</td><td>3107150.0</td><td>2341825.0</td><td>2225675.0</td><td>1643675.0</td><td>1091025.0</td><td>1131625.0</td><td>883950.0</td><td>802425.0</td></tr><tr><th>F</th><td>NaN</td><td>NaN</td><td>31250.0</td><td>2125.0</td><td>NaN</td><td>NaN</td><td>NaN</td><td>49000.0</td><td>27000.0</td><td>43000.0</td><td>...</td><td>1074175.0</td><td>868925.0</td><td>761675.0</td><td>685325.0</td><td>665750.0</td><td>685200.0</td><td>316700.0</td><td>315075.0</td><td>72300.0</td><td>NaN</td></tr><tr><th>G</th><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>NaN</td><td>24625.0</td><td>NaN</td><td>NaN</td><td>...</td><td>56100.0</td><td>243275.0</td><td>224825.0</td><td>64050.0</td><td>198575.0</td><td>245825.0</td><td>53125.0</td><td>23750.0</td><td>25100.0</td><td>1000.0</td></tr></tbody></table><p>7 rows × 139 columns</p></div><p>用pandas_profiling生成数据报告</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas_profiling</span><br><span class="line"><span class="keyword">import</span> matplotlib</span><br><span class="line">pfr = pandas_profiling.ProfileReport(data_tr)</span><br><span class="line">pfr.to_file(<span class="string">&quot;./example.html&quot;</span>)</span><br></pre></td></tr></table></figure><pre><code>Summarize dataset:   0%|          | 0/5 [00:00&lt;?, ?it/s]



Generate report structure:   0%|          | 0/1 [00:00&lt;?, ?it/s]



Render HTML:   0%|          | 0/1 [00:00&lt;?, ?it/s]



Export report to file:   0%|          | 0/1 [00:00&lt;?, ?it/s]
</code></pre><h2 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h2><p>数据探索性分析是我们初步了解数据，熟悉数据为特征工程做准备的阶段，甚至很多时候EDA阶段提取出来的特征可以直接当作规则来用。可见EDA的重要性，这个阶段的主要工作还是借助于各个简单的统计量来对数据整体的了解，分析各个类型变量相互之间的关系，以及用合适的图形可视化出来直观观察。希望本节内容能给初学者带来帮助，更期待各位学习者对其中的不足提出建议。</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Machine-Learning/">Machine Learning</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/leekinghou/image/raw/master/img/20211210104425.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/12/09/lc154/"><img class="prev-cover" src="https://gitee.com/leekinghou/image/raw/master/img/20211124181101.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">寻找旋转排序数组中的最小值 II</div></div></a></div><div class="next-post pull-right"><a href="/2021/12/06/%E5%89%91%E6%8C%87offer%2035/"><img class="next-cover" src="https://gitee.com/leekinghou/image/raw/master/img/20211124181101.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">剑指offer 35</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2021/09/28/2021-09-28-sklearn%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E6%96%87%E6%A1%A3/" title="sklearn使用函数文档"><img class="cover" src="https://files.catbox.moe/nqxbpk.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-28</div><div class="title">sklearn使用函数文档</div></div></a></div><div><a href="/2021/09/22/CNN/" title="CNN卷积神经网络笔记"><img class="cover" src="https://files.catbox.moe/rpfysi.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-22</div><div class="title">CNN卷积神经网络笔记</div></div></a></div><div><a href="/2021/08/28/C1/" title="MACHINE LEARNING"><img class="cover" src="https://files.catbox.moe/53u8pl.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-28</div><div class="title">MACHINE LEARNING</div></div></a></div><div><a href="/2021/09/26/K%E8%BF%91%E9%82%BB%20K-nearest%20neighbor/" title="K近邻 K-nearest neighbor"><img class="cover" src="https://files.catbox.moe/yechci.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-26</div><div class="title">K近邻 K-nearest neighbor</div></div></a></div><div><a href="/2021/10/20/lessonOne/" title="李宏毅2021年(春)深度学习 作业一"><img class="cover" src="https://inews.gtimg.com/newsapp_ls/0/14146721068/0" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-20</div><div class="title">李宏毅2021年(春)深度学习 作业一</div></div></a></div><div><a href="/2021/11/01/self-attention(%E4%B8%8A)/" title="Self-attention(上)"><img class="cover" src="https://gitee.com/leekinghou/image/raw/master/img/20211127111636.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-01</div><div class="title">Self-attention(上)</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/portrait.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">lijinhao</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">65</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">39</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">22</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/leekinghou"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/leekinghou" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:lijinhao716@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">醉后不知天在水，满船清梦压星河✨<div class="twopeople"><div class="twopeople"><div class="container" style="height:200px"><canvas class="illo" width="800" height="800" style="max-width:200px;max-height:200px;touch-action:none;width:640px;height:640px"></canvas></div><script src="https://cdn.guole.fun/js/twopeople1.js"></script><script src="https://cdn.guole.fun/js/zdog.dist.js"></script><script id="rendered-js" src="https://cdn.guole.fun/js/twopeople.js"></script><style>.twopeople{margin:0;align-items:center;justify-content:center;text-align:center}canvas{display:block;margin:0 auto;cursor:move}</style></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%87%91%E8%9E%8D%E9%A3%8E%E6%8E%A7-%E8%B4%B7%E6%AC%BE%E8%BF%9D%E7%BA%A6%E9%A2%84%E6%B5%8B"><span class="toc-number">1.</span> <span class="toc-text">金融风控-贷款违约预测</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E8%A7%84%E6%A8%A1"><span class="toc-number">1.1.</span> <span class="toc-text">查看数据规模</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%89%8D10%E8%A1%8C"><span class="toc-number">1.2.</span> <span class="toc-text">查看数据前10行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%9F-%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.3.</span> <span class="toc-text">🌟 查看数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%88%86%E5%B8%83"><span class="toc-number">1.4.</span> <span class="toc-text">查看数据分布</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E9%9B%86%E4%B8%AD%E7%9A%84%E7%89%B9%E5%BE%81%E7%BC%BA%E5%A4%B1%E5%80%BC%EF%BC%8C%E5%94%AF%E4%B8%80%E5%80%BC%E7%AD%89"><span class="toc-number">1.5.</span> <span class="toc-text">查看数据集中的特征缺失值，唯一值等</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="toc-number">1.5.1.</span> <span class="toc-text">缺失值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E5%80%BC%E5%85%A8%E6%98%AF1%E7%9A%84%E7%89%B9%E5%BE%81%E5%AD%97%E6%AE%B5"><span class="toc-number">1.6.</span> <span class="toc-text">查看数据值全是1的特征字段</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">1.7.</span> <span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E3%80%81%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">处理数据类型、对象类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%AD%97%E6%AE%B5%E5%80%BC"><span class="toc-number">2.1.</span> <span class="toc-text">查看字段值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E5%9E%8B%E5%8F%98%E9%87%8F%E5%88%86%E6%9E%90"><span class="toc-number">2.2.</span> <span class="toc-text">数值型变量分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E6%95%B0%E5%80%BC%E7%B1%BB%E5%88%AB%E5%9E%8B%E5%8F%98%E9%87%8F%E5%88%86%E6%9E%90"><span class="toc-number">2.3.</span> <span class="toc-text">非数值类别型变量分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">2.4.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%88%86%E5%B8%83%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">3.</span> <span class="toc-text">变量分布可视化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%B8%80%E5%8F%98%E9%87%8F%E5%88%86%E5%B8%83%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="toc-number">3.1.</span> <span class="toc-text">单一变量分布可视化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AEy%E5%80%BC%E4%B8%8D%E5%90%8C%E5%8F%AF%E8%A7%86%E5%8C%96x%E6%9F%90%E4%B8%AA%E7%89%B9%E5%BE%81%E7%9A%84%E5%88%86%E5%B8%83"><span class="toc-number">3.2.</span> <span class="toc-text">根据y值不同可视化x某个特征的分布</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%A0%BC%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%8F%8A%E6%9F%A5%E7%9C%8B"><span class="toc-number">3.3.</span> <span class="toc-text">时间格式数据处理及查看</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-number">3.4.</span> <span class="toc-text">总结</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By lijinhao</div><div class="framework-info"><span>Framework</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">满腔期待 常怀热情 有人等你<a target="_blank" rel="noopener" href="https://inews.gtimg.com/newsapp_ls/0/14146688226/0">Baikal♥️Swan</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">簡</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading())</script><div class="js-pjax"></div><script defer id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="false"></script><script src="https://cdn-1.nesxc.com/js/smooth-scrolling.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js"></script><script data-pjax>function GithubCalendarConfig(){var e=document.getElementById("recent-posts");e&&"/"==location.pathname&&(console.log("已挂载github calendar"),e.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>')),GithubCalendar("https://python-github-calendar-api.vercel.app/api?Leekinghou",["#ebedf0","#fdcdec","#fc9bd9","#fa6ac5","#f838b2","#f5089f","#c4067e","#92055e","#540336","#48022f","#30021f"],"Leekinghou")}document.getElementById("recent-posts")&&GithubCalendarConfig()</script><style>#github_container{min-height:280px}@media screen and (max-width:650px){#github_container{min-height:0}}</style><style></style></body></html>